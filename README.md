# نظام إدارة الحضور والانتظار للمراكز الطبية

## نظرة عامة
نظام متكامل لإدارة الحضور والانتظار في المراكز الطبية يوفر واجهة عربية سهلة الاستخدام مع دعم كامل للغة العربية ونطق الأرقام العربية.

## المميزات الرئيسية

### 1. صفحة الإدارة (settings.html)
- إعدادات المركز الطبي (الاسم، سرعة النطق)
- إدارة العيادات (إضافة، تعديل، حذف)
- إعدادات الصوت (TTS أو ملفات MP3)
- شريط أخبار متحرك قابل للتخصيص
- إجراءات سريعة (نداء عميل، عرض اسم، تشغيل صوت)

### 2. صفحة العرض (display.html)
- عرض حي للعيادات وأرقامها الحالية
- شاشة عرض رئيسية للمحتوى التوعوي
- شريط أخبار متحرك
- QR Code للدخول السريع
- تمييز العيادة أثناء النداء (وميض + اهتزاز)
- نافذة منبثقة للنداءات

### 3. صفحة التحكم (control.html)
- نظام دخول آمن بكلمة مرور لكل عيادة
- أزرار تحكم (التالي، السابق، تكرار، تصفير)
- نداء رقم معين
- عرض رسائل مخصصة
- إجراءات سريعة (طارئ، إيقاف، استئناف)
- اختصارات لوحة المفاتيح

### 4. صفحة طباعة التذاكر (tickets.html)
- طباعة تذاكر بمقاس A4 (4 تذاكر في كل صف)
- حساب وقت الانتظار التقديري
- عرض حالة قوائم الانتظار
- تخصيص نطاق الأرقام

## التقنيات المستخدمة

### Frontend
- HTML5 + CSS3
- JavaScript (ES6+)
- Tailwind CSS للتصميم
- Font Awesome للأيقونات
- QR Code Generator

### Backend
- Firebase Realtime Database
- Firebase Hosting (اختياري)
- GitHub Pages (للاستضافة المجانية)

## إعداد المشروع

### الخطوة 1: إعداد Firebase
1. أنشئ مشروع جديد في [Firebase Console](https://console.firebase.google.com/)
2. أضف تطبيق ويب جديد
3. انسخ معلومات التكوين (apiKey, authDomain, databaseURL, إلخ)
4. عدّل ملف `js/firebase-config.js` وأضف معلوماتك

### الخطوة 2: تكوين قاعدة البيانات
1. في Firebase Console، انتقل إلى Realtime Database
2. أنشئ قاعدة البيانات واختر الوضع الافتراضي
3. أنشئ القواعد التالية:

```json
{
  "rules": {
    ".read": true,
    ".write": true,
    "settings": {
      ".validate": true
    },
    "clinics": {
      ".validate": true
    },
    "current": {
      ".validate": true
    },
    "calls": {
      ".validate": true
    },
    "display": {
      ".validate": true
    },
    "news": {
      ".validate": true
    }
  }
}
```

### الخطوة 3: استضافة الملفات
#### خيار 1: GitHub Pages (مجاني)
1. أنشئ مستودع جديد على GitHub
2. رفع جميع الملفات إلى المستودع
3. فعل GitHub Pages من إعدادات المستودع
4. استخدم الفرع main والمجلد root

#### خيار 2: Firebase Hosting
1. ثبت Firebase CLI: `npm install -g firebase-tools`
2. سجل الدخول: `firebase login`
3. أنشئ ملف `firebase.json` في جذر المشروع
4. نشر الموقع: `firebase deploy`

### الخطوة 4: إعداد ملفات الصوت (اختياري)
إذا اخترت استخدام ملفات MP3 بدلاً من TTS:

1. أنشئ مجلد `audio` في جذر المشروع
2. أضف ملفات الصوت التالية:
   - الأرقام من 1 إلى 19: `1.mp3`, `2.mp3`, ..., `19.mp3`
   - العشرات من 20 إلى 90: `20.mp3`, `30.mp3`, ..., `90.mp3`
   - المئات من 100 إلى 900: `100.mp3`, `200.mp3`, ..., `900.mp3`
   - رابط "و": `and.mp3`
3. أضف ملف `ding.mp3` للتنبيه

### الخطوة 5: التكوين الأولي
1. افتح صفحة الإدارة: `your-domain.com/settings.html`
2. أضف بيانات مركزك الطبي
3. أضف العيادات مع كلمات المرور
4. اختر إعدادات الصوت والنطق
5. اختر محتوى شريط الأخبار

## استخدام النظام

### للإدارة
- استخدم صفحة الإدارة لإضافة/تعديل العيادات والإعدادات
- يمكنك نداء عملاء معينين أو عرض رسائل مخصصة
- تحكم في سرعة النطق ونوع الصوت

### لأطباء العيادات
- ادخل إلى صفحة التحكم
- اختر عيادتك وأدخل كلمة المرور
- استخدم الأزرار للتحكم في أرقام العملاء
- يمكنك استخدام مفاتيح الأسهم والمسافة للتحكم السريع

### للعملاء
- يرى العملاء شاشة العرض لمعرفة أرقامهم
- يمكنهم مسح QR Code للدخول إلى الصفحة
- يتم تمييز العيادة عند النداء بصرياً وصوتياً

## اختصارات لوحة المفاتيح

في صفحة التحكم:
- `↑` أو `Space`: العميل التالي
- `↓`: العميل السابق
- `R`: تكرار النداء
- `Esc`: الخروج

## الأمان
- كل عيادة لها كلمة مرور خاصة
- لا يمكن الوصول إلى التحكم إلا بعد تسجيل الدخول
- البيانات محفوظة في Firebase بشكل آمن

## الصيانة
- قم بعمل نسخ احتياطية من إعدادات Firebase دورياً
- تحقق من استهلاك قاعدة البيانات
- راقب أداء النظام وعدد الاتصالات

## الدعم الفني
- تأكد من اتصال الإنترنت المستقر
- تحقق من إعدادات Firebase إذا واجهت مشاكل في الاتصال
- تأكد من صحة ملفات الصوت إذا كنت تستخدم MP3

## الترخيص
هذا المشروع مفتوح المصدر ويمكن استخدامه مجاناً للمراكز الطبية.

## المساهمة
يمكنك المساهمة في تحسين المشروع من خلال:
- الإبلاغ عن الأخطاء
- اقتراح ميزات جديدة
- تحسين الترجمات
- تحسين الأداء